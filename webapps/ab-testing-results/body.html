<!DOCTYPE html>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
<link rel="stylesheet" href="/static/public/styles/1.0.0/dku-styles.css" />
<script type="text/javascript" src="https://code.jquery.com/jquery-1.12.0.min.js"></script>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
    integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
</link>
<link rel="stylesheet" href="https://getbootstrap.com/docs/4.0/assets/css/docs.min.css">
</link>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.12/css/select2.min.css">
</link>
<link
    href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&amp;display=swap"
    rel="stylesheet">
</link>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<script src="https://d3js.org/d3.v4.min.js"></script>
<script src="https://cdn.jsdelivr.net/jstat/latest/jstat.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.js"></script>



<script src="/plugins/ab-testing/resource/js/visualisation/statistics.js" type="text/javascript"></script>
<script src="/plugins/ab-testing/resource/js/form.js" type="text/javascript"></script>
<script src="/plugins/ab-testing/resource/js/display.js" type="text/javascript"></script>
<script src="/plugins/ab-testing/resource/js/visualisation/chart.js" type="text/javascript"></script>
<script src="/plugins/ab-testing/resource/js/results.js" type="text/javascript"></script>
<script src="/plugins/ab-testing/resource/js/input.js" type="text/javascript"></script>




<title>AB Testing : Analysis of the results</title>

<header class="navbar bd-navbar bg-light">
    <a class="navbar-brand" href="#">
        <img src="https://www.dataiku.com/static/img/theme/logo/page.png" width="180" height="64" alt=""> </img>
    </a>
    <div class="d-flex justify-content-between">
        <div>
            <h2> Analysis of the results</h2>
        </div>
    </div>
</header>

<body>
    <div class="flex-container" ng-app="resultApp" ng-controller="ResultController">
        <div class="container">
            <div class="row">
                <div class="col-xl">
                    <h1>Frequentist AB Testing - Analysis of the results</h1>
                    <a class="anchorjs-link " href="#overview" aria-label="Anchor" data-anchorjs-icon="#"
                        style="padding-left: 0.375em;"></a>
                    <h2>Compare two proportions : success rate, click through rate.</h2>
                    <p class="explanations">
                        The average success rates of two independent samples A and B are compared. A is the control
                        group
                        while B
                        is the experiment group. We assume that the two samples follow binomial distributions.
                        <i class="icon icon-pencil"></i>
                    </p>
                    <hr>
                    <div class="container">
                        <form id="form_data">
                            <div class="row align-items-start">
                                <div class="col-1 corner ">
                                </div>
                                <div class="col-sm headers text-center">
                                    Size
                                </div>
                                <div class="col-sm headers text-center">
                                    Success rate (%)
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-1 corner ">
                                </div>
                                <div class="col-sm headers text-center">
                                    <button id="info_size" type="button" class="btn btn-link"> [Info] </button>
                                </div>
                                <div class="col-sm headers text-center">
                                    <button id="info_success_rate" type="button" class="btn btn-link"> [Info] </button>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-1 corner ">
                                </div>
                                <div class="col-sm text-center">
                                    <span id="explanation_size" class="d-none">
                                        <div class="spacing">
                                            <div class="explanation_text">
                                                How many people are there in each group?
                                            </div>
                                        </div>
                                    </span>
                                </div>
                                <div class="col-sm headers text-center">
                                    <span id="explanation_success_rate" class="d-none">
                                        <div class="spacing">
                                            <div class="explanation_text">
                                                What is the percentage of success per group?
                                            </div>
                                        </div>
                                    </span>
                                </div>
                            </div>
                            <div class="row align-items-center">
                                <div class="col-1 group text-center" id="A_header">
                                    A
                                </div>
                                <div class="col-sm">
                                    <div class="field">
                                        <input type="number" name="size_A" id="size_A" class="textbox_results"
                                            ng-model="size_A">
                                    </div>
                                </div>
                                <div class="col-sm">
                                    <div class="field">
                                        <input type="number" name="success_rate_A" placeholder="" id="success_rate_A"
                                            class="textbox_results" ng-model="success_rate_A" />
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-1 corner ">
                                </div>
                                <div class="col-sm text-center">
                                    <span id="alert_size_A" class="alert"> </span>
                                </div>
                                <div class="col-sm headers text-center">
                                </div>
                            </div>
                            <div class="row align-items-end">
                                <div class="col-1 group text-center" id="B_header">
                                    B
                                </div>
                                <div class="col-sm">
                                    <div class="field">
                                        <input type="number" name="size_B" id="size_B" class="textbox_results"
                                            ng-model="size_B">
                                    </div>
                                </div>
                                <div class="col-sm">
                                    <div class="field">
                                        <input type="number" name="success_rate_B" placeholder="" id="success_rate_B"
                                            class="textbox_results" ng-model="success_rate_B" />
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-1 corner ">
                                </div>
                                <div class="col-sm text-center">
                                    <span id="alert_size_B" class="alert"> </span>
                                </div>
                                <div class="col-sm headers text-center">
                                </div>
                            </div>
                            <hr>
                            <div class="row justify-content-md-center">
                                <div class="col-xl">
                                    <div class="field">
                                        <div class="field">
                                            <label for="sig_level"> Desired statistical significance (%)
                                                <button id="info_sig_level" type="button" class="btn btn-link"> [Info]
                                                </button>
                                            </label>
                                            <span id="explanation_sig_level" class="d-none">
                                                <div class="spacing explanation_text">
                                                    <div class="explanation_smaller">
                                                        The statistical significance is the probability to find that the
                                                        two
                                                        samples have
                                                        the same
                                                        success rate (H0), when this is the case. It is therefore the
                                                        minimum
                                                        threshold
                                                        of the true
                                                        positive probability.
                                                        It equals to \(1-\alpha\), with \(\alpha\), the type I error.
                                                        The most common values for the statistical significance are 95%
                                                        and
                                                        90%. When it is set too low, the test may detect a non existent
                                                        change, while if it is too high, it is less likely to detect a
                                                        variation
                                                        when there
                                                        is one.
                                                    </div>
                                                </div>
                                            </span>
                                            <input type="number" name="sig_level" placeholder="1-alpha" id="sig_level"
                                                ng-model="sig_level" />
                                            <span id="alert_sig_level" class="alert"> </span>
                                        </div>
                                        <label id="tail_label" for="tail">Two tailed test
                                            <button id="info_tail" type="button" class="btn btn-link"> [Info] </button>
                                        </label>
                                        <span id="explanation_tail" class="d-none">
                                            <div class="spacing explanation_text">
                                                <div class="explanation_smaller">
                                                    Are you willing to test for an increase in success rate, a decrease,
                                                    or
                                                    even
                                                    both?
                                                </div>
                                                <div class="explanation_smaller">
                                                    If you only want to determine if there is any difference between the
                                                    two
                                                    groups,
                                                    you
                                                    should use a
                                                    two-tailed test. It means that you are testing both for positive and
                                                    negative
                                                    differences.
                                                </div>
                                                <div class="explanation_smaller">
                                                    However, if you only test in one direction, to find out for
                                                    instance,
                                                    whether
                                                    the
                                                    success rate is
                                                    higher
                                                    for B, you may want to use a one-tailed distribution. For example,
                                                    if you
                                                    test a
                                                    new
                                                    email template,
                                                    your major concern is whether it leads to more conversion.
                                                    A two-tailed test is not necessary since you are only interested in
                                                    positive
                                                    changes.
                                                </div>
                                            </div>
                                        </span>
                                        <select name="tail" id="tail" ng-model="tail">
                                            <option value="false" class="alert">False</option>
                                            <option value="true">True</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </form>
                        <div class="row justify-content-md-center text-center">
                            <div class="col-xl">
                                <button id="submit" type="submit"
                                    class="btn btn-outline-info btn-rounded waves-effect  btn-lg"
                                    ng-click="getResults()">
                                    Submit results
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row justify-content-md-center">
                <div class="col-md-auto">
                    <div id="result_caption">
                    </div>
                </div>
            </div>
            <div class="row justify-content-md-center">
                <div class="col-md-auto text-center result_table">
                    <table>
                        <thead>
                            <tr>
                                <th class="heads_tab"> Uplift (%) </th>
                                <th class="heads_tab"> Z-score </th>
                                <th class="heads_tab"> P-value</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="tab_value" id="uplift">{{uplift}}</td>
                                <td class="tab_value" id="Z_score">{{z_score}}</td>
                                <td class="tab_value" id="p_value"> {{p_value}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="row justify-content-md-center">
                <div class="col-md-auto text-center">
                    <div id="save-section" class="text-center d-none">
                        <a id="save-button" type="button" class="btn btn-outline-info btn-rounded waves-effect  btn-lg" ng-click="saveResults()">
                            Save results</a>
                    </div>
                    <div id="save-caption" class="d-none">
                        Results were saved!
                    </div>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                <div class="col-xl">
                    <h2> Visualisation </h2>
                    <hr>
                    </hr>
                    <p class="question text-center">
                        What are the chances I would see these results if there was no difference?
                    </p>
                    <div class="row justify-content-md-center">
                        <div class="col-9">
                            <canvas class="h-150 w-100" id="chart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>